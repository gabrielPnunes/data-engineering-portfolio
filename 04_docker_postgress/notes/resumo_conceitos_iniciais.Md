# Docker Conceitos Iniciais

## O que Ã© Docker

Ferramenta que tem como proposito rodar aplicaÃ§Ãµes em ambientes isolados, chamados containers

- Vem todas as configuraÃ§Ãµes necessÃ¡rias para rodar na mÃ¡quina, precisando apenas ter o docker no PC
- Container Ã© Diferente de MÃ¡quina virtual, pois ela usa o conceito de virtuzaliÃ§Ã£o

---

## dockerfiles

- Ã‰ onde fica todas as informaÃ§Ãµes necessÃ¡rias para se gerar as imagens

---

## Imagem

- Ã‰ onde estÃ¡ todas todas as configuraÃ§Ãµes para se rodar o container
- Ã‰ como se fosse uma print do ambiente onde eu estava rodando
- Por ser uma "print" Ã© estatica

---

## Container

- O container Ã© uma instancia da imagem, Ã© a image sendo rodada
- Ã‰ como se a print virasse um vÃ­deo
- Pode ser rodado em uma VM ou na maquina fisica msm

---

## Registros

- SÃ£o onde ficam armazenadas as imagens
- Ã‰ como se fosse o "Google Fotos"
- Cada empresa tem seu "hub" o armazenamento e etc




ğŸ“Œ VocÃª nÃ£o instala Postgres localmente
VocÃª roda um container com Postgres dentro.

ğŸ”¹ Por que isso Ã© essencial para dados

No mundo real:

Dev roda banco local em Docker

Pipeline conecta em container

Time inteiro usa mesma versÃ£o

Zero â€œsetup manualâ€

ğŸ“Œ Engenharia de Dados = ambientes reproduzÃ­veis.

2ï¸âƒ£ PARTE PRÃTICA DO DIA (ESSENCIAL)

ğŸ¯ Objetivo do dia

Subir PostgreSQL via Docker

Conectar usando Python

Executar um comando simples

Nada alÃ©m disso.

2.1ï¸âƒ£ Subindo PostgreSQL com Docker
ğŸ“Œ PrÃ©-requisito

Docker instalado

Docker Desktop rodando

ğŸ˜ Comando para subir o PostgreSQL
docker run -d \
  --name postgres_dev \
  -e POSTGRES_USER=admin \
  -e POSTGRES_PASSWORD=admin123 \
  -e POSTGRES_DB=meubanco \
  -p 5432:5432 \
  postgres:15

ğŸ” ExplicaÃ§Ã£o linha a linha

docker run â†’ cria e roda container

-d â†’ modo background

--name postgres_dev â†’ nome do container

POSTGRES_USER â†’ usuÃ¡rio do banco

POSTGRES_PASSWORD â†’ senha

POSTGRES_DB â†’ banco inicial

-p 5432:5432

porta do container â†’ porta local

postgres:15 â†’ imagem oficial + versÃ£o

âœ… Verificando se subiu
docker ps


VocÃª deve ver algo como:

postgres_dev   postgres:15   Up

2.2ï¸âƒ£ Conectando no PostgreSQL via Python
ğŸ“¦ Instalar dependÃªncia
pip install psycopg2-binary

ğŸ CÃ³digo Python de conexÃ£o
import psycopg2

conn = psycopg2.connect(
    host="localhost",
    port=5432,
    database="meubanco",
    user="admin",
    password="admin123"
)

cursor = conn.cursor()
cursor.execute("SELECT 1;")

resultado = cursor.fetchone()
print(resultado)

cursor.close()
conn.close()

ğŸ” ExplicaÃ§Ã£o passo a passo
import psycopg2


Driver PostgreSQL para Python.

psycopg2.connect(...)


Cria conexÃ£o com o banco no container.

ğŸ“Œ localhost porque a porta foi exposta (-p 5432:5432).

cursor = conn.cursor()


Cursor = ponte para executar SQL.

cursor.execute("SELECT 1;")


Query simples para testar conexÃ£o.

cursor.fetchone()


Retorna o resultado da query â†’ (1,)

2.3ï¸âƒ£ Teste extra (opcional, mas real)
cursor.execute("""
CREATE TABLE IF NOT EXISTS teste (
    id SERIAL PRIMARY KEY,
    nome TEXT
);
""")
conn.commit()